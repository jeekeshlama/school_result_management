@model FiboSchool.Src.Dto.AssignTeacherDto
@{
    Layout = null;
    ViewBag.Title = "Create";
}

<form name="myForm" asp-action="Create" asp-controller="AssignTeacher" method="post" id="messageModal" novalidate>
    @Html.AntiForgeryToken()
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="product-payment-inner-st">
                <ul id="myTabedu1" class="tab-review-design">
                    <li class="active"><a href="#BasicDetails"> Assign Teacher </a></li>
                </ul>


                <div id="myTabContent" class="tab-content custom-product-edit">
                    <div class="product-tab-list tab-pane fade active in" id="BasicDetails">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="review-content-section">
                                    @Html.AntiForgeryToken()

                                    <div class="row content-error">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                            <div class="form-group">
                                                <label for="Year">Select Subject</label>
                                                <select asp-for="SubjectId" asp-items="Model.SubjectList" class="form-control SubjectId" id="SubjectId" required>
                                                    <option value="0">--Select Subject--</option>
                                                </select>


                                            </div>
                                            <div class="form-group">
                                                <label for="Year">Select Teacher</label>
                                                <select asp-for="TeacherId" asp-items="Model.TeacherList" class="form-control TeacherId" id="TeacherId" required>
                                                    <option value="0">--Select Teacher--</option>
                                                </select>


                                            </div>
                                            <div class="form-group">
                                                <label for="Year">Select Section</label>
                                                <select asp-for="SectionId" asp-items="Model.SectionSetupList" class="form-control SectionId" id="SectionId" required>
                                                    <option value="0">--Select Section--</option>
                                                </select>


                                            </div>
                                            <div class="form-group">
                                                <label for="Year">Select Class</label>
                                                <select asp-for="ClassId" asp-items="Model.ClassSetupList" class="form-control SubjectId" id="ClassId" required>
                                                    <option value="0">--Select Subject--</option>
                                                </select>


                                            </div>
                                        </div>

                                        @Html.ValidationMessage("CustomError", null, new { @class = "text-danger" })

                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="payment-adress" style="float:right">
                                                <button class="btn btn-success" type="submit" href="#"><i class="fa fa-check edu-checked-pro">Submit</i></button>
                                                <button class="btn btn-danger" type="submit" href="#"><i class="fa fa-times edu-danger-error" data-dismiss="modal">Cancel</i></button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</form>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
@section Scripts
{
    <script type="text/javascript">
        //$(document).load(function () {
        //    $(".ClassSetupId").change();
        //});



        $(".ClassId").change(function () {
            var classId = $("#ClassId").val();
            $.ajax({
            data: { Id: classId },
            dataType: "Json",
            type: "GET",
            url: '@Url.Action("LoadSubject", "AssignTeacher")',
                success: function (subjects) {
                    $('.SubjectId').empty();
                    let i = 0;
                    for (var subject in subjects) {
                        var html = '<option value="' + subjects[i].id + '">' + subjects[i].subjectName + '</option>';
                        $('.SubjectId').append(html);
                        i++;
                    }
                }
            })
        })
    function validateForm() {
        let x = document.forms["myForm"]["Name"].value;
        if (x == "") {
            alert("Block must be filled out");
            return false;
        }
    }
    </script>

}

    <a href="D:\SRMS\SchoolResultManagementSystem\Views\Subject\Create.cshtml">D:\SRMS\SchoolResultManagementSystem\Views\Subject\Create.cshtml</a>